# Проект 2. Приложение для анализа банковских операций

[1. Цель проекта](#title1) / 
[2. Описание модулей (пакет ".......")](#title2) / 
[3. Установка проекта](#title3) / 
[4. Модульное тестирование (пакет "tests")](#title4) / 
[5. Логирование модулей](#title5) / 
[6. Директория проекта "data"](#title6) / 
[7. Описание файла "config.py"](#title7)


### <a id="title1">1. Цель проекта</a>
Реализовать программу, которая будет получать информацию о вакансиях с платформы hh.ru в России, сохранять ее в файл и позволять удобно работать с ней: добавлять, фильтровать, удалять.

- ***Функциональный код разбит на модули***:
  - Модуль для взаимодействия с API;
  - Модуль для взаимодействия с файлами;
  - Модуль для взаимодействия с вакансиями;
  - "Точка входа" - модуль, запустив который можно получить результат всех реализованных в проекте функциональностей.


- ***Документация для сбора вакансий с hh.ru***:
  - Ссылка на API: https://github.com/hhru/api/.


- ***Выходные данные***:
  - Информация о вакансиях, полученная с разных платформ, сохраненная в JSON-файл;
  - Отфильтрованные и отсортированные вакансии, выводимые пользователю через консоль.

  
### <a id="title2">2. Описание модулей (пакет `.......`)</a>

1. Модуль `main.py` содержит код для запуска приложения в целом.


2. Модуль `.......py` содержит .......:
   - `.......()` - .......


### <a id="title3">3. Установка проекта</a>
1. Клонируйте репозиторий:
```
git clone https://github.com/MaksimLakovich/Coursework-2-app-for-getting-info-about-vacancies.git
```

2. Установите зависимости:
```
poetry install
```


### <a id="title4">4. Модульное тестирование (пакет `tests`)</a>
1. Тесты подготовлены отдельными файлами под каждый класс и модуль проекта:
   - `test_........py`;
   - `test_........py`.
2. Для повышения качества тестирования используются фикстуры (файл: `conftest.py`) и параметризация тестов.


### Запуск тестов и анализ покрытия кода:
1. Запустить выполнение тестов необходимо с помощью команды:
```
pytest -v
```
2. Получить анализ покрытия кода тестами можно с помощью команды:
```
pytest --cov=src
```


### <a id="title5">5. Логирование модулей</a>
1. В отдельном модуле `logger.py` реализованы функции, которые создают и возвращают настроенный логгер с заданным именем и параметрами в FileHandler и Formatter для:
   - `get_logger_........()` для модуля `.........py`.
2. Логи записываются в директорию ***LOGS*** в корне проекта.
Для этого в начале с помощью функции `initialize_directories()` инициализирует все необходимые директории, если их не существует еще. Сейчас это только инициализация `../logs/` для записи логов работы приложения.
3. Формат записи лога в файл включает: метку времени, название модуля, название функции, уровень серьезности и сообщение, описывающее событие или ошибку, которые произошли ***"%(asctime)s - %(name)s - %(funcName)s - %(levelname)s: %(message)s"***.
4. Лог перезаписывается при каждом запуске приложения.


### <a id="title6">6. Директория проекта `data`</a>
Данная директория проекта создана для записи получаемых результатов работы приложения по сбору информации о вакансиях, а так же для хранения различных сопутствующих данных необходимых для работы кода и выполнения тестирования.
1. файл `........xls` - пример входящих данных ......
2. файл `........json` - пример файла .......:
```json
{
  "user_currencies": ["USD", "EUR"],
  "user_stocks": ["AAPL", "AMZN", "GOOGL", "MSFT", "TSLA"]
}
```

### <a id="title7">7. Описание файла `config.py`</a>
Для удобства разделения логики и конфигураций, для удобства управления и возможных модификаций использую данный файл конфигурации для хранения путей к файлам и других настроек.
1. Функция `initialize_directories()` - реализована чтобы создавать автоматически нужные директории (например, logs) и которая потом вызывается из main.py. Что логично, поскольку директории обычно инициализируются при запуске приложения.
2. Определен путь к директориям куда будут записываться логи приложения (`../logs/`) и определены имена файлов для логов из модулей:
   - log_......._file = LOGS_DIR / `........log`;
   - log_......._file = LOGS_DIR / `........log`.
3. Определен путь к Excel-файлу c банковскими операциями `operations.xlsx`, который размещается в директории (`../data/`).
4. Определен путь к пользовательским настройкам отображения информации на веб-страницах `user_settings.json`, которые размещаются в директории (`../data/`).
